jQuery(function(a){if("undefined"==typeof wc_cart_fragments_params)return!1;var t=!0,n=wc_cart_fragments_params.cart_hash_key;try{t="sessionStorage"in window&&null!==window.sessionStorage,window.sessionStorage.setItem("wc","test"),window.sessionStorage.removeItem("wc"),window.localStorage.setItem("wc","test"),window.localStorage.removeItem("wc")}catch(e){t=!1}function r(){t&&sessionStorage.setItem("wc_cart_created",(new Date).getTime())}function s(e){t&&(localStorage.setItem(n,e),sessionStorage.setItem(n,e))}var e,o={url:wc_cart_fragments_params.wc_ajax_url.toString().replace("%%endpoint%%","get_refreshed_fragments"),type:"POST",success:function(e){e&&e.fragments&&(a.each(e.fragments,function(e,t){a(e).replaceWith(t)}),t&&(sessionStorage.setItem(wc_cart_fragments_params.fragment_name,JSON.stringify(e.fragments)),s(e.cart_hash),e.cart_hash&&r()),a(document.body).trigger("wc_fragments_refreshed"))}};function i(){a.ajax(o)}if(t){var c=null;a(document.body).on("wc_fragment_refresh updated_wc_div",function(){i()}),a(document.body).on("added_to_cart removed_from_cart",function(e,t,a){var o=sessionStorage.getItem(n);null!=o&&""!==o||r(),sessionStorage.setItem(wc_cart_fragments_params.fragment_name,JSON.stringify(t)),s(a)}),a(document.body).on("wc_fragments_refreshed",function(){clearTimeout(c),c=setTimeout(i,864e5)}),a(window).on("storage onstorage",function(e){n===e.originalEvent.key&&localStorage.getItem(n)!==sessionStorage.getItem(n)&&i()}),a(window).on("pageshow",function(e){e.originalEvent.persisted&&(a(".widget_shopping_cart_content").empty(),a(document.body).trigger("wc_fragment_refresh"))});try{var g=a.parseJSON(sessionStorage.getItem(wc_cart_fragments_params.fragment_name)),_=sessionStorage.getItem(n),m=Cookies.get("woocommerce_cart_hash"),d=sessionStorage.getItem("wc_cart_created");if(null!=_&&""!==_||(_=""),null!=m&&""!==m||(m=""),_&&(null==d||""===d))throw"No cart_created";if(d){var w=1*d+864e5,f=(new Date).getTime();if(w<f)throw"Fragment expired";c=setTimeout(i,w-f)}if(!g||!g["div.widget_shopping_cart_content"]||_!==m)throw"No fragment";a.each(g,function(e,t){a(e).replaceWith(t)}),a(document.body).trigger("wc_fragments_loaded");var l=sessionStorage.getItem("pll_language"),u=(null!=(e=a.cookie("pll_language"))&&""!==e||(e=""),e);if(null!=l&&""!==l||(l=""),!u)throw"Language not found";if(!l||l!==u)throw sessionStorage.setItem("pll_language",u),"Language changed"}catch(e){i()}}else i();0<Cookies.get("woocommerce_items_in_cart")?a(".hide_cart_widget_if_empty").closest(".widget_shopping_cart").show():a(".hide_cart_widget_if_empty").closest(".widget_shopping_cart").hide(),a(document.body).on("adding_to_cart",function(){a(".hide_cart_widget_if_empty").closest(".widget_shopping_cart").show()})});